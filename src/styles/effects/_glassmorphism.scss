// ==========================================
// Glassmorphism Effects
// ==========================================

@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// Base glass effect
.glass {
  @include glass();
}

.glass-strong {
  @include glass('strong');
}

.glass-subtle {
  @include glass('subtle');
}

// Glass variations with different blur intensities
.glass-blur-sm {
  backdrop-filter: blur(4px);
  background-color: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-blur-md {
  backdrop-filter: blur(8px);
  background-color: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.glass-blur-lg {
  backdrop-filter: blur(16px);
  background-color: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-blur-xl {
  backdrop-filter: blur(24px);
  background-color: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.glass-blur-2xl {
  backdrop-filter: blur(40px);
  background-color: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.4);
}

// Dark glass variants
.glass-dark {
  backdrop-filter: blur(16px);
  background-color: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-dark-strong {
  backdrop-filter: blur(24px);
  background-color: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-dark-subtle {
  backdrop-filter: blur(8px);
  background-color: rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

// Colored glass effects
.glass-blue {
  backdrop-filter: blur(16px);
  background-color: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
}

.glass-purple {
  backdrop-filter: blur(16px);
  background-color: rgba(147, 51, 234, 0.1);
  border: 1px solid rgba(147, 51, 234, 0.2);
}

.glass-green {
  backdrop-filter: blur(16px);
  background-color: rgba(34, 197, 94, 0.1);
  border: 1px solid rgba(34, 197, 94, 0.2);
}

.glass-red {
  backdrop-filter: blur(16px);
  background-color: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.glass-yellow {
  backdrop-filter: blur(16px);
  background-color: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

// Glass with rounded corners
.glass-rounded {
  @include glass();
  border-radius: $radius-lg;
}

.glass-rounded-xl {
  @include glass();
  border-radius: $radius-xl;
}

.glass-rounded-2xl {
  @include glass();
  border-radius: $radius-2xl;
}

.glass-rounded-3xl {
  @include glass();
  border-radius: $radius-3xl;
}

.glass-rounded-full {
  @include glass();
  border-radius: $radius-full;
}

// Glass with shadows
.glass-shadow {
  @include glass();
  box-shadow: $shadow-lg;
}

.glass-shadow-xl {
  @include glass();
  box-shadow: $shadow-xl;
}

.glass-shadow-2xl {
  @include glass();
  box-shadow: $shadow-2xl;
}

// Interactive glass effects
.glass-hover {
  @include glass();
  transition: all $duration-300 $ease-out;
  
  &:hover {
    background-color: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
    box-shadow: $shadow-xl;
  }
}

.glass-active {
  @include glass();
  transition: all $duration-150 $ease-out;
  
  &:active {
    background-color: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
    transform: translateY(1px);
  }
}

// Glass cards
.glass-card {
  @include glass();
  @include card-base;
  padding: $spacing-6;
  border-radius: $radius-xl;
}

.glass-card-hover {
  @include glass();
  @include card-hover;
  padding: $spacing-6;
  border-radius: $radius-xl;
}

// Glass panels
.glass-panel {
  @include glass();
  padding: $spacing-8;
  border-radius: $radius-2xl;
  min-height: 200px;
}

// Glass navigation
.glass-nav {
  @include glass();
  @include sticky-top();
  backdrop-filter: blur(20px);
  background-color: rgba(255, 255, 255, 0.8);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

// Glass modal/dialog backgrounds
.glass-modal {
  @include glass('strong');
  border-radius: $radius-2xl;
  padding: $spacing-8;
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
}

// Glass backdrop for modals
.glass-backdrop {
  @include fixed-fill;
  backdrop-filter: blur(8px);
  background-color: rgba(0, 0, 0, 0.4);
  z-index: $z-modal-backdrop;
}

// Accessibility and browser support
@supports not (backdrop-filter: blur(1px)) {
  .glass,
  .glass-strong,
  .glass-subtle,
  .glass-blur-sm,
  .glass-blur-md,
  .glass-blur-lg,
  .glass-blur-xl,
  .glass-blur-2xl,
  .glass-dark,
  .glass-dark-strong,
  .glass-dark-subtle {
    background-color: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .glass,
  .glass-strong,
  .glass-subtle,
  .glass-blur-sm,
  .glass-blur-md,
  .glass-blur-lg,
  .glass-blur-xl,
  .glass-blur-2xl {
    background-color: rgba(0, 0, 0, 0.8) !important;
    border: 1px solid rgba(255, 255, 255, 0.5) !important;
  }
}

// Reduced transparency for better readability
@media (prefers-reduced-transparency: reduce) {
  .glass,
  .glass-strong,
  .glass-subtle,
  .glass-blur-sm,
  .glass-blur-md,
  .glass-blur-lg,
  .glass-blur-xl,
  .glass-blur-2xl {
    background-color: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: none !important;
  }
}