/* Responsive Utilities */
@layer utilities {
  /* Touch Manipulation */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* Safe Area */
  .safe-area-inset {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .safe-area {
    padding-top: max(1rem, env(safe-area-inset-top));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }

  /* Mobile-specific improvements */
  @media (max-width: 640px) {
    .mobile-container {
      @apply px-3 py-4;
    }

    .mobile-card {
      @apply mx-2 rounded-2xl p-4;
    }

    .mobile-text {
      @apply text-sm leading-relaxed;
    }

    .mobile-padding {
      @apply px-4 py-6;
    }

    .mobile-gap {
      @apply gap-3;
    }

    .mobile-settings-card {
      @apply p-4 space-y-4 rounded-2xl;
    }

    .mobile-form-control {
      @apply space-y-3;
    }

    .mobile-control-group {
      @apply py-3 space-y-2;
    }

    .mobile-action-button {
      @apply w-full py-3 text-base min-h-[48px];
    }

    .mobile-space-y-3 > * + * {
      margin-top: 0.75rem;
    }

    .mobile-space-y-4 > * + * {
      margin-top: 1rem;
    }

    /* Enhanced touch targets for mobile */
    button, [role="button"], input, select, textarea {
      @apply touch-manipulation;
      min-height: 44px;
    }

    .card-mobile {
      @apply p-4 rounded-2xl shadow-lg;
    }

    /* Mobile-specific input styling */
    input[type="number"] {
      font-size: 16px !important; /* Prevents zoom on iOS */
    }

    .mobile-tabs {
      @apply overflow-x-auto scrollbar-hide;
    }

    /* Mobile radio and checkbox sizing */
    input[type="radio"], input[type="checkbox"] {
      min-width: 20px;
      min-height: 20px;
    }

    /* Mobile switch optimization */
    [role="switch"] {
      min-width: 48px;
      min-height: 28px;
    }
  }

  /* Tablet optimizations */
  @media (min-width: 641px) and (max-width: 1024px) {
    .tablet-grid {
      @apply grid-cols-2 gap-6;
    }

    .tablet-padding {
      @apply px-6 py-8;
    }

    .tablet-card {
      @apply p-6 rounded-2xl shadow-xl;
    }
  }

  /* Desktop enhancements */
  @media (min-width: 1025px) {
    .desktop-grid {
      @apply grid-cols-3 gap-8;
    }

    .desktop-card {
      @apply p-8 rounded-3xl shadow-2xl;
    }
  }

  /* Responsive breakpoint utilities */
  .xs\:inline {
    @media (min-width: 475px) {
      display: inline;
    }
  }

  /* Container queries support */
  @container (min-width: 320px) {
    .container-sm\:text-base {
      font-size: 1rem;
      line-height: 1.5rem;
    }
  }

  @container (min-width: 768px) {
    .container-md\:text-lg {
      font-size: 1.125rem;
      line-height: 1.75rem;
    }
  }

  /* Print styles */
  @media print {
    .print\:hidden {
      display: none !important;
    }

    .print\:block {
      display: block !important;
    }

    .print\:text-black {
      color: #000 !important;
    }

    .print\:bg-white {
      background-color: #fff !important;
    }
  }

  /* Landscape orientation */
  @media (orientation: landscape) {
    .landscape\:flex-row {
      flex-direction: row;
    }

    .landscape\:h-screen {
      height: 100vh;
    }
  }

  /* Portrait orientation */
  @media (orientation: portrait) {
    .portrait\:flex-col {
      flex-direction: column;
    }

    .portrait\:h-auto {
      height: auto;
    }
  }
}